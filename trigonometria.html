<!DOCTYPE html />
<html>
<head>
<title>Trigonometria</title>
<link rel="stylesheet" type="text/css" href="css/svg.css" />
</head>
<body id="cuerpo">
	<!-- HEADER -->
	<div id="barraHerramientas"></div>
	<!-- BODY -->
	<div id="contenido">
		<div id="barraLateral"></div>
		<div id="contenedorLienzo">
			<svg id="miSVG" style='width:95vw;height:90vh;'>
				<g transform="matrix(20,0,0,20,0,0)">
					<circle cx="10" cy="10" r="5" stroke="rgb(200,50,50)" stroke-width="0.1" fill="none" />
					<circle cx="15" cy="15" r="5" stroke="rgb(50,50,200)" stroke-width="0.1" fill="none" />
					<rect x="10" y="10" width="5" height="5" stroke="rgb(50,200,50)" stroke-width="0.1" fill="none" />
				</g>
			</svg>
		</div>
	</div>
	<!-- FOOTER -->
	<div id="barraEstado"></div>
	<script type="text/javascript" src="js/selector.js"></script>
	<script type="text/javascript">
		// ((x-cx)(x-cx))+((y-cy)(y-cy)) = r
		function interseccion(x0,y0,r0,x1,y1,r1) {
			var a,dx,dy,d,h,rx,ry;
			var x2,y2;
			dx = x1 - x0;
			dy = y1 - y0;
			d = Math.sqrt((dy*dy)+(dx*dx));
			if(d > Math.abs(r0 + r1)) // Se intersectan?
				return false;
			if(d < Math.abs(r0 - r1)) // Se contienen?
				return false;
			a = ((r0*r0) - (r1*r1) + (d*d)) / (2.0 * d); // distancia entre centros
			x2 = x0 + (dx * a/d); // coordenada x del punto 2
			y2 = y0 + (dy * a/d); // coordenada y del punto 2
			h = Math.sqrt((r0*r0) - (a*a)); // distancia de punto 2 a punto de interseccion
			rx = -dy * (h/d); // offsetX de punto interseccion X desde punto 2
			ry = dx * (h/d); // offsetX de punto interseccion Y desde punto 2

			var xi,xiP,yi,yiP;
			xi = x2 + rx;
			xiP = x2 - rx;
			yi = y2 + ry;
			yiP = y2 - ry;

			return [xi,xiP,yi,yiP];
		}
		console.log(interseccion(10,10,5,16,16,5));
	</script>
</body>
</html>
